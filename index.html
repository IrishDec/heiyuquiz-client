<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="google-adsense-account" content="ca-pub-5334553173304707" />

  <!-- AdSense loader -->
  <script async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5334553173304707"
    crossorigin="anonymous"></script>

  <title>HeiyuQuiz — Fast Group Quiz</title>
  <meta name="description" content="Create a link for your group. Everyone plays outside the chat." />

  <!-- Social preview -->
  <meta property="og:title" content="HeiyuQuiz — Fast Group Quiz" />
  <meta property="og:description" content="Tap to play a 5-question quiz with your friends." />
  <meta property="og:image" content="/assets/og.png" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://heiyuquiz.com" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Styles -->
  <link rel="stylesheet" href="/style.css" />

  <!-- App scripts -->
  <script defer src="/consent.js"></script>
  <script defer src="/app.js"></script>
</head>
<body>
<!--logo-->
<header id="appHeader">
  <img src="./img/logo.png" alt="HeiyuQuiz">
</header>
  <main class="wrap">
<!-- Start Card -->
<section id="startCard" class="card">
  <h1>HeiyuQuiz</h1>
  <p class="muted">Create a link for your group, pick a category & region, then play 5 quick questions.</p>

  <label class="lbl">Name or nickname</label>
  <input id="name" placeholder="Name or nickname" maxlength="24" />

  <label class="lbl">Category</label>
  <select id="category">
    <option>General</option>
    <option>Movies</option>
    <option>Science</option>
    <option>Sports</option>
    <option>History</option>
  </select>

  <label class="lbl">Region</label>
  <select id="region">
    <option value="global">Global</option>
    <option value="ie">Ireland</option>
    <option value="uk">United Kingdom</option>
    <option value="us">United States</option>
    <option value="ca">Canada</option>
    <option value="au">Australia</option>
    <option value="in">India</option>
    <option value="ng">Nigeria</option>
  </select>

  <label class="lbl">Custom topic (optional)</label>
  <input id="topic" placeholder="e.g., Liverpool FC, Taylor Swift, Formula 1" maxlength="60" />
  <p class="muted" style="margin:6px 0 0">We’ll try to bias questions to this topic.</p>

  <div class="row">
    <button id="createBtn">Create & Share Link</button>
  </div>

  <!-- Start view ad slot -->
  <div class="ad-slot" id="adStart"></div>
</section>

<!-- Play View -->
<section id="playView" class="card hidden">
  <div class="top">
    <div id="quizMeta"></div>
    <button id="shareBtn">Share</button>
  </div>
  <div id="quizBody"></div>
  <div class="ad-slot" id="adPlay"></div>
</section>

<!-- Results -->
<section id="resultsView" class="card hidden">
  <h2>Results</h2>
  <ol id="scoreList"></ol>
  <p class="muted">Screenshot this page and share it with your group ✨</p>
  <div class="ad-slot" id="adResults"></div>
</section>

  </main>

  <!-- Consent Banner (one copy only, inside <body>) -->
  <div id="consentBanner" class="consent hidden">
    <p>We use cookies for analytics and ads. Do you accept?</p>
    <div class="row">
      <button data-accept>Accept</button>
      <button data-decline>Decline</button>
    </div>
  </div>

<!-- Bottom ad (only shows when an ad actually renders) -->
<div class="ad-banner" id="adFooter" style="display:none">
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-5334553173304707"
       data-ad-slot="2359208366"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
</div>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  (function(){
    const banner = document.getElementById('adFooter');
    const slot   = banner.querySelector('.adsbygoogle');
    const wrap   = document.querySelector('.wrap');

    function applyPadding(){
      const h = Math.max(0, Math.ceil(banner.getBoundingClientRect().height));
      if (wrap) wrap.style.paddingBottom = (h ? h + 8 : 16) + 'px';
      if (window._hqGate) window._hqGate.style.bottom = (h ? h + 'px' : '0');
    }

    function showIfReady(){
      const ifr = slot.querySelector('iframe');
      if (ifr && ifr.offsetHeight > 0){
        banner.style.display = 'block';
        applyPadding();
      }
    }

    // watch for the ad iframe to appear
    const mo = new MutationObserver(showIfReady);
    mo.observe(slot, { childList:true, subtree:true });

    // fallbacks
    setTimeout(showIfReady, 500);
    setTimeout(showIfReady, 1500);
    setTimeout(function(){
      if (!slot.querySelector('iframe')){
        banner.style.display = 'none';
        if (wrap) wrap.style.paddingBottom = '16px';
        if (window._hqGate) window._hqGate.style.bottom = '0';
      }
    }, 2500);

    // recalc on rotate/resize
    window.addEventListener('resize', ()=>{ if (banner.style.display==='block') applyPadding(); });
  })();
</script>


</body>
</html>



